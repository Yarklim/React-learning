Учетные записи
Абсолютное большинство приложений позволяют пользователю создать учетную запись. что дает возможность фронтенду и бэкенду различать пользователей. Благодаря этому, зарегистрированный пользователь может работать с данными, которые доступны только ему. Например, в приложении планировщика задач у каждого зарегистрированного пользователя будет своя личная коллекция задач.

Redirects logic
Кроме этого, приложение может иметь закрытые маршруты, доступные только зарегистрированным пользователям. Если пользователь не вошел в свою учетную запись, при попытке посетить закрытый маршрут он будет перенаправлен на страницу логина или регистрации.


Права доступа
Процесс проверки валидности данных при логине и последующие проверки наличия прав доступа к данным выполняется на бэкенде и описывается двумя терминами.

Аутентификация(authentication) - это процесс проверки учётных данных пользователя (логин/пароль). Проверка подлинности пользователя путём сравнения введённого им логина/пароля с данными сохранёнными в базе данных.

Авторизация(authorization) - это проверка прав пользователя на доступ к определенным ресурсам. Правом доступа может быть какое-то уникальное значение, которое фронтенд передает с каждым HTTP запросом на бэкенд.

Redirects logic
Например, после аутентификации пользователь получает право запрашивать и получать от ресурса my-api.com/tasks некие данные. При каждом обращении пользователя к ресурсу tasks система авторизации проверит имеет ли он право обращаться к этому ресурсу, в результате чего пропускает или отсекает запрос. Право доступа к ресурсу определяется по наличию какого-то уникального значения в запросе (токену).

JSON Web Token
Один из механизмов авторизации это JWT (JSON Web Token). Токены предоставляют собой средство авторизации для каждого запроса от фронтенда к бэкенду. Токены создаются на бэкенде основываясь на секретном ключе, который хранится на сервере, и каких-то уникальный для пользователя данных, например почта и т. п. Токен в итоге хранится на фронтенде и используется при необходимости авторизации какого-либо запроса.

Каждый токен это уникальная зашифрованная строка, которая содержит три блока: заголовок(header), набор полей (payload) и сигнатуру. При попытке злоумышленником подменить данные в header или payload, токен станет не валидным, поскольку сигнатура не будет соответствовать изначальным значениям. А возможность сгенерировать новую сигнатуру у злоумышленника отсутствует, поскольку секретный ключ для зашифровки лежит на сервере.

Планировщик задач
Разберите полный пример приложения планировщика задач, в котором добавлена реализация регистрации, логина, обновления пользователя, редиректы и работа с коллекцией защищенных данных. В примере используется полноценный бэкенд, который создает JWT для каждого пользователя. За работу с пользователем и токеном отвечает часть состояния state.auth, разберите слайс, операции и селекторы.

